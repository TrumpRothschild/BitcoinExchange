webpackJsonp([27],{"/ibo":function(t,e){},"8hy6":function(t,e){},mg8I:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("d5Yy"),i=s("PJh5"),o={components:{expandRow:a.a},data(){const t=this;return{loading:!1,pageSize:10,pageNo:1,total:10,symbol:[],formItem:{symbol:"",type:"",direction:"",date:""},columns:[{type:"index",width:30,render:(t,e)=>t(a.a,{props:{skin:e.row.skin,rows:e.row.detail}})},{title:t.$t("exchange.time"),key:"time",minWidth:55,render:(e,s)=>e("span",{},t.dateFormat(s.row.time))},{title:t.$t("uc.finance.trade.symbol"),width:130,key:"symbol"},{title:t.$t("uc.finance.trade.type"),width:70,render:(e,s)=>e("span","LIMIT_PRICE"===s.row.type?t.$t("exchange.limited_price"):t.$t("exchange.market_price"))},{title:t.$t("exchange.direction"),key:"direction",width:90,render:(e,s)=>{const a=s.row;return e("span",{attrs:{class:a.direction.toLowerCase()}},"BUY"==a.direction?t.$t("exchange.buyin"):t.$t("exchange.sellout"))}},{title:t.$t("exchange.price"),key:"price",render:(e,s)=>e("span",{attrs:{title:s.row.price}},t.toFloor(s.row.price))},{title:t.$t("exchange.num"),key:"amount",render:(e,s)=>e("span",{attrs:{title:s.row.amount}},t.toFloor(s.row.amount))},{title:t.$t("exchange.done"),key:"tradedAmount",render:(e,s)=>e("span",{attrs:{title:s.row.tradedAmount}},t.toFloor(s.row.tradedAmount))},{title:t.$t("uc.finance.trade.turnover"),key:"turnover",render:(e,s)=>e("span",{attrs:{title:s.row.turnover}},t.toFloor(s.row.turnover))},{title:t.$t("exchange.status"),key:"status",width:80,render:(e,s)=>{const a=s.row.status;return"COMPLETED"==a?e("span",{style:{color:"#f0a70a"}},t.$t("exchange.finished")):"CANCELED"==a?e("span",{style:{color:"#f0a70a"}},t.$t("exchange.canceled")):e("span",{},"--")}}],orders:[]}},computed:{lang:function(){return this.$store.state.lang}},watch:{lang:function(){this.updateLangData()}},created(){this.getHistoryOrder(),this.getSymbol()},methods:{dateFormat:function(t){return i(t).format("YYYY-MM-DD HH:mm:ss")},loadDataPage(t){this.pageNo=t,this.getHistoryOrder()},handleSubmit(){this.pageNo=1,this.getHistoryOrder()},handleClear(){this.formItem={symbol:"",type:"",direction:"",date:""}},getHistoryOrder(){this.loading=!0;const{symbol:t,type:e,direction:s,date:a}=this.formItem,i=new Date(a[0]).getTime()||"",o=new Date(a[1]).getTime()||"";let r={};t&&(r.symbol=t),s&&(r.direction=s),e&&(r.type=e),i&&(r.startTime=i),o&&(r.endTime=o),r.status="1",r.pageNo=this.pageNo,r.pageSize=this.pageSize;var n=this;this.orders=[],this.$http.post(this.host+"/exchange/order/personal/history",r).then(t=>{var e=t.body;let s=[];if(e.content.length>0){this.total=e.totalElements;for(var a=0;a<e.content.length;a++){var i=e.content[a];i.price="MARKET_PRICE"==i.type?n.$t("exchange.marketprice"):i.price,s.push(i)}this.orders=s}this.loading=!1})},getSymbol(){this.$http.post(this.host+this.api.market.thumb,{}).then(t=>{var e=t.body;e.length>0&&(this.symbol=e)})},updateLangData(){this.columns[1].title=this.$t("exchange.time"),this.columns[2].title=this.$t("uc.finance.trade.symbol"),this.columns[3].title=this.$t("uc.finance.trade.type"),this.columns[4].title=this.$t("exchange.direction"),this.columns[5].title=this.$t("exchange.price"),this.columns[6].title=this.$t("exchange.num"),this.columns[7].title=this.$t("exchange.traded"),this.columns[8].title=this.$t("uc.finance.trade.turnover"),this.columns[9].title=this.$t("exchange.status")}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:this.$store.state.ismobile?"entrustcurrentF":"entrusthistory"},[s("div",{staticClass:"fromMoblie"},[s("Form",{staticClass:"form",attrs:{model:t.formItem,"label-position":this.$store.state.ismobile?"top":"","label-width":this.$store.state.ismobile?"100%":"75",inline:!this.$store.state.ismobile}},[s("FormItem",{attrs:{label:t.$t("uc.finance.trade.start_end")+""+(this.$store.state.ismobile?":":"")}},[s("DatePicker",{style:{width:this.$store.state.ismobile?"100%":"180px"},attrs:{type:"daterange",size:"large"},model:{value:t.formItem.date,callback:function(e){t.$set(t.formItem,"date",e)},expression:"formItem.date"}})],1),t._v(" "),s("FormItem",{attrs:{label:t.$t("uc.finance.trade.symbol")+""+(this.$store.state.ismobile?":":"")}},[s("Select",{style:{width:this.$store.state.ismobile?"100%":"100px"},attrs:{size:"large",placeholder:t.$t("common.pleaseselect")},model:{value:t.formItem.symbol,callback:function(e){t.$set(t.formItem,"symbol",e)},expression:"formItem.symbol"}},t._l(t.symbol,function(e,a){return s("Option",{key:a,attrs:{value:e.symbol}},[t._v(t._s(e.symbol))])}))],1),t._v(" "),s("FormItem",{attrs:{label:t.$t("uc.finance.trade.type")+""+(this.$store.state.ismobile?":":"")}},[s("Select",{style:{width:this.$store.state.ismobile?"100%":"70px"},attrs:{size:"large",placeholder:t.$t("common.pleaseselect")},model:{value:t.formItem.type,callback:function(e){t.$set(t.formItem,"type",e)},expression:"formItem.type"}},[s("Option",{attrs:{value:"LIMIT_PRICE"}},[t._v(t._s(t.$t("uc.finance.trade.limit")))]),t._v(" "),s("Option",{attrs:{value:"MARKET_PRICE"}},[t._v(t._s(t.$t("uc.finance.trade.market")))])],1)],1),t._v(" "),s("FormItem",{attrs:{label:t.$t("uc.finance.trade.direction")+""+(this.$store.state.ismobile?":":"")}},[s("Select",{style:{width:this.$store.state.ismobile?"100%":"70px"},attrs:{size:"large",placeholder:t.$t("common.pleaseselect")},model:{value:t.formItem.direction,callback:function(e){t.$set(t.formItem,"direction",e)},expression:"formItem.direction"}},[s("Option",{attrs:{value:"0"}},[t._v(t._s(t.$t("uc.finance.trade.buy")))]),t._v(" "),s("Option",{attrs:{value:"1"}},[t._v(t._s(t.$t("uc.finance.trade.sell")))])],1)],1),t._v(" "),s("FormItem",[s("Button",{attrs:{type:"warning"},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("uc.finance.trade.search")))]),t._v(" "),s("Button",{staticClass:"clear_btn",staticStyle:{"margin-left":"8px"},on:{click:t.handleClear}},[t._v(t._s(t.$t("uc.finance.trade.clear")))])],1)],1)],1),t._v(" "),this.$store.state.ismobile?s("div",{staticClass:"fromTitle"},[t._v("\n    历史委托记录\n  ")]):t._e(),t._v(" "),s("div",{class:this.$store.state.ismobile?"fromtable":""},[s("div",{staticClass:"table"},[s("div",[s("Table",{attrs:{"no-data-text":t.$t("common.nodata"),columns:t.columns,data:t.orders,loading:t.loading}})],1)]),t._v(" "),s("div",{staticClass:"page"},[s("Page",{attrs:{total:t.total,pageSize:t.pageSize,current:t.pageNo},on:{"on-change":t.loadDataPage}})],1)])])},staticRenderFns:[]};var n=s("VU/8")(o,r,!1,function(t){s("/ibo"),s("8hy6")},"data-v-6a5a5750",null);e.default=n.exports}});