webpackJsonp([29],{"19r3":function(t,e){},"3vdf":function(t,e){},R6U0:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={components:{},data(){var t=this;return{interval:function(){},disbtn:!1,dataCount:10,loading:!0,sendMsgDisabled1:!1,sendMsgDisabled2:!1,time1:60,time2:60,modal2:!1,modal_loading:!1,withdrawAddr:"",remark:"",coinType:"",validEmail:!1,validPhone:!1,coinList:[],tableColumnsRecharge:[{title:this.$t("uc.finance.withdraw.symbol"),key:"unit"},{title:this.$t("uc.finance.withdraw.address"),key:"address"},{title:this.$t("uc.finance.withdraw.remark"),key:"remark"},{title:this.$t("uc.finance.withdraw.operate"),key:"action",width:150,align:"center",render:(e,i)=>e("div",[e("Button",{props:{size:"small"},style:{border:"1px solid #ed4014",color:"#ed4014","line-height":"1.2","border-radius":"10px"},on:{click:()=>{this.del(i.row.id)}}},t.$t("uc.finance.withdraw.delete"))])}],dataRecharge:[],formValidateAddr:{mobileNo:"",vailCode2:"",email:"",vailCode1:""},ruleValidate:{mobileNo:[{required:this.validPhone,message:this.$t("uc.finance.withdraw.telerr"),trigger:"blur"}],vailCode2:[{required:this.validPhone,message:this.$t("uc.finance.withdraw.codeerr"),trigger:"change"}],email:[{required:this.validEmail,type:"email",message:this.$t("uc.finance.withdraw.emailerr"),trigger:"blur"}],vailCode1:[{required:this.validEmail,message:this.$t("uc.finance.withdraw.codeerr"),trigger:"change"}]}}},created(){this.getMember(),this.getList(0,10),this.coinType=this.$route.query.name,this.getCoin()},methods:{refresh(){this.coinType=null,this.withdrawAddr=null,this.remark=null,this.getList(0,10)},getMember(){this.$http.post(this.host+"/uc/approve/security/setting").then(t=>{var e=t.body;0==e.code?e.data.mobilePhone?(this.formValidateAddr.mobileNo=e.data.mobilePhone,this.validPhone=!0,this.validEmail=!1):(this.formValidateAddr.email=e.data.email,this.validPhone=!1,this.validEmail=!0):this.$Message.error(e.message)})},getCoin(){this.$http.post(this.host+"/uc/withdraw/support/coin").then(t=>{var e=t.body;if(0==e.code)for(let t=0;t<e.data.length;t++)this.coinList.push(e.data[t]);else this.$Message.error(e.message)})},getList(t,e){let i={};i.pageNo=t,i.pageSize=e,this.$http.post(this.host+"/uc/withdraw/address/page",i).then(t=>{var e=t.body;0==e.code&&e.data.content?(this.dataRecharge=e.data.content,this.dataCount=e.data.totalElement):this.$Message.error(e.message),this.loading=!1})},remove(t){this.dataRecharge.splice(t,1)},send(t){let e=this;this.disbtn=!0,1==t?this.formValidateAddr.email?this.$http.post(this.host+"/uc/add/address/code").then(t=>{var i=t.body;if(0==i.code){this.$Message.success(i.message),e.sendMsgDisabled1=!0;let t=window.setInterval(function(){e.time1--<=0&&(e.time1=60,e.sendMsgDisabled1=!1,window.clearInterval(t),this.disbtn=!1)},1e3)}else this.$Message.error(i.message),this.disbtn=!1}):(this.$refs.formValidateAddr.validateField("email"),this.disbtn=!1):2==t&&(this.formValidateAddr.mobileNo?this.$http.post(this.host+"/uc/mobile/add/address/code").then(t=>{var i=t.body;0==i.code?(this.$Message.success(i.message),e.sendMsgDisabled2=!0,this.interval=window.setInterval(()=>{e.time2--<=0&&(e.time2=60,e.sendMsgDisabled2=!1,window.clearInterval(this.interval),this.disbtn=!1)},1e3)):(this.$Message.error(i.message),this.disbtn=!1)}):(this.$refs.formValidateAddr.validateField("mobileNo"),this.disbtn=!1))},addAddr(){let t=setInterval(()=>{this.time2<=0&&(this.sendMsgDisabled2=!1,window.clearInterval(t),this.disbtn=!1)},1e3);this.coinType?this.withdrawAddr?this.remark?this.coinType&&this.remark&&this.withdrawAddr&&(this.modal2=!0):this.$Message.warning(this.$t("uc.finance.withdraw.remarktip")):this.$Message.warning(this.$t("uc.finance.withdraw.addresstip")):this.$Message.warning(this.$t("uc.finance.withdraw.symboltip"))},changePage(t){this.getList(t,10,this.coinType)},del(t){const e=this.$t("common.tip"),i="<p>"+this.$t("common.delete")+"</p>";this.$Modal.confirm({title:e,content:i,onOk:()=>{let e={};e.id=t,this.$http.post(this.host+"/uc/withdraw/address/delete",e).then(t=>{var e=t.body;0==e.code?(this.$Message.success(e.message),this.refresh()):this.$Message.error(e.message),this.loading=!1})},onCancel:()=>{}})},handleSubmit(t){this.$refs[t].validate(e=>{e?this.submit(t):this.$Message.error(this.$t("uc.finance.withdraw.savemsg1"))})},submit(t){let e={};e.address=this.withdrawAddr,e.unit=this.coinType,this.validPhone?(e.aims=this.formValidateAddr.mobileNo,e.code=this.formValidateAddr.vailCode2):(e.aims=this.formValidateAddr.email,e.code=this.formValidateAddr.vailCode1),e.remark=this.remark,this.$http.post(this.host+"/uc/withdraw/address/add",e).then(t=>{var e=t.body;0==e.code?(this.$Message.success(this.$t("uc.finance.withdraw.savemsg2")),this.formValidateAddr.vailCode2="",this.refresh(),this.modal2=!1):this.$Message.error(e.message)})}},computed:{}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav-rights"},[i("div",{staticClass:"nav-right"},[i("div",{staticClass:"bill_box_address"},[this.$store.state.ismobile?t._e():i("section",{staticClass:"trade-group merchant-tops"},[i("h1",{staticClass:"tips-word1"},[t._v(t._s(t.$t("uc.finance.withdraw.addressmanager")))])]),t._v(" "),i("section",[i("div",{class:[this.$store.state.ismobile?"tableMoblie":"table-inner"]},[i("div",{staticClass:"action-inner"},[i("div",{staticClass:"inner-left"},[i("p",{staticClass:"describe"},[t._v(t._s(t.$t("uc.finance.withdraw.symbol")+""+(this.$store.state.ismobile?":":"")))]),t._v(" "),this.$store.state.ismobile?i("Select",{staticStyle:{height:"42px","margin-top":"0px"},attrs:{size:"large"},model:{value:t.coinType,callback:function(e){t.coinType=e},expression:"coinType"}},t._l(t.coinList,function(e){return i("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})):i("Select",{staticStyle:{width:"100px","margin-top":"10px"},attrs:{size:"large"},model:{value:t.coinType,callback:function(e){t.coinType=e},expression:"coinType"}},t._l(t.coinList,function(e){return i("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}))],1),t._v(" "),i("div",{staticClass:"inner-box deposit-address mt25"},[i("p",{staticClass:"describe"},[t._v(t._s(t.$t("uc.finance.withdraw.address")+""+(this.$store.state.ismobile?":":"")))]),t._v(" "),i("div",{staticClass:"title"},[this.$store.state.ismobile?i("Input",{staticStyle:{height:"42px","margin-top":"0px"},attrs:{size:"large"},model:{value:t.withdrawAddr,callback:function(e){t.withdrawAddr=e},expression:"withdrawAddr"}}):i("Input",{staticStyle:{width:"90%","margin-top":"10px"},attrs:{size:"large"},model:{value:t.withdrawAddr,callback:function(e){t.withdrawAddr=e},expression:"withdrawAddr"}})],1)]),t._v(" "),i("div",{staticClass:"inner-box deposit-address mt25"},[i("p",{staticClass:"describe"},[t._v(t._s(t.$t("uc.finance.withdraw.remark"))+" / Memo"+t._s(this.$store.state.ismobile?":":""))]),t._v(" "),i("div",{staticClass:"title"},[this.$store.state.ismobile?i("Input",{staticStyle:{width:"100%"},attrs:{size:"large"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}}):i("Input",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{size:"large"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)]),t._v(" "),this.$store.state.ismobile?i("div",{staticClass:"mt25 mtTitle"},[i("div",{staticClass:"title"},[i("Button",{staticStyle:{width:"86px",color:"#fff",background:"#f0a70a",border:"1px solid #f0a70a"},attrs:{id:"addrSubmit",size:"large"},on:{click:t.addAddr}},[t._v(t._s(t.$t("uc.finance.withdraw.add")))])],1)]):t._e()]),t._v(" "),this.$store.state.ismobile?t._e():i("div",{staticClass:"btnbox"},[i("Button",{staticStyle:{width:"86px",color:"#fff",background:"#f0a70a",border:"1px solid #f0a70a"},attrs:{id:"addrSubmit",size:"large"},on:{click:t.addAddr}},[t._v(t._s(t.$t("uc.finance.withdraw.add")))])],1),t._v(" "),this.$store.state.ismobile?i("p",{staticClass:"actionMobliep"},[t._v(t._s(t.$t("uc.finance.withdraw.addresslist")))]):t._e(),t._v(" "),i("div",{class:[this.$store.state.ismobile?"actionMoblie":"action-content"]},[i("div",{staticClass:"action-body"},[this.$store.state.ismobile?t._e():i("p",{staticClass:"acb-p1 describe"},[t._v(t._s(t.$t("uc.finance.withdraw.addresslist")))]),t._v(" "),i("div",{staticClass:"order-table"},[i("div",{staticClass:"actionMoblieBox"},[i("div",{staticClass:"actionMoblieTable"},[i("Table",{attrs:{columns:t.tableColumnsRecharge,data:t.dataRecharge,"disabled-hover":!0}})],1)]),t._v(" "),i("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[i("div",{staticStyle:{float:"right"}},[i("Page",{staticClass:"recharge_btn",attrs:{total:t.dataCount,current:1,loading:t.loading},on:{"on-change":t.changePage}})],1)])])])])])])])]),t._v(" "),i("Modal",{attrs:{width:"360"},model:{value:t.modal2,callback:function(e){t.modal2=e},expression:"modal2"}},[i("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("Icon",{attrs:{type:"ios-mail",size:"20",color:"#00b5f6;"}}),t._v(" "),i("span",[t._v(t._s(t.$t("uc.finance.withdraw.safevalidate")))])],1),t._v(" "),i("div",{staticStyle:{"text-align":"center"}},[i("Form",{ref:"formValidateAddr",attrs:{model:t.formValidateAddr,rules:t.ruleValidate,"label-width":85}},[i("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.validPhone,expression:"validPhone"}],attrs:{label:t.$t("uc.finance.withdraw.telno"),prop:"mobileNo"}},[i("Input",{attrs:{disabled:"",size:"large"},model:{value:t.formValidateAddr.mobileNo,callback:function(e){t.$set(t.formValidateAddr,"mobileNo",e)},expression:"formValidateAddr.mobileNo"}})],1),t._v(" "),i("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.validPhone,expression:"validPhone"}],attrs:{label:t.$t("uc.finance.withdraw.smscode"),prop:"vailCode2"}},[i("Input",{attrs:{size:"large"},model:{value:t.formValidateAddr.vailCode2,callback:function(e){t.$set(t.formValidateAddr,"vailCode2",e)},expression:"formValidateAddr.vailCode2"}},[i("div",{staticClass:"timebox",attrs:{slot:"append"},slot:"append"},[i("Button",{attrs:{disabled:t.disbtn},on:{click:function(e){t.send(2)}}},[t.sendMsgDisabled2?i("span",[t._v(t._s(t.time2+t.$t("uc.finance.withdraw.second")))]):t._e(),t._v(" "),t.sendMsgDisabled2?t._e():i("span",[t._v(t._s(t.$t("uc.finance.withdraw.clickget")))])])],1)])],1),t._v(" "),i("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.validEmail,expression:"validEmail"}],attrs:{label:t.$t("uc.finance.withdraw.email"),prop:"email"}},[i("Input",{attrs:{disabled:"",size:"large"},model:{value:t.formValidateAddr.email,callback:function(e){t.$set(t.formValidateAddr,"email",e)},expression:"formValidateAddr.email"}})],1),t._v(" "),i("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.validEmail,expression:"validEmail"}],attrs:{label:t.$t("uc.finance.withdraw.emailcode"),prop:"vailCode1"}},[i("Input",{attrs:{size:"large"},model:{value:t.formValidateAddr.vailCode1,callback:function(e){t.$set(t.formValidateAddr,"vailCode1",e)},expression:"formValidateAddr.vailCode1"}},[i("div",{staticClass:"timebox",attrs:{slot:"append"},slot:"append"},[i("Button",{attrs:{disabled:t.disbtn},on:{click:function(e){t.send(1)}}},[t.sendMsgDisabled1?i("span",[t._v(t._s(t.time1+t.$t("uc.finance.withdraw.second")))]):t._e(),t._v(" "),t.sendMsgDisabled1?t._e():i("span",[t._v(t._s(t.$t("uc.finance.withdraw.clickget")))])])],1)])],1)],1)],1),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary",size:"large",long:""},on:{click:function(e){t.handleSubmit("formValidateAddr")}}},[t._v(t._s(t.$t("uc.finance.withdraw.save")))])],1)])],1)},staticRenderFns:[]};var d=i("VU/8")(a,s,!1,function(t){i("19r3"),i("3vdf")},"data-v-54809ba6",null);e.default=d.exports}});