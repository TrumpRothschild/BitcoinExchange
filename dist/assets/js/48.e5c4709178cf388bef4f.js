webpackJsonp([48],{O0we:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data(){return{spinShow:!1,hasReceived:!1,inviteLink:"https://www.cbdcoincurrency.com/envelope/",envelopeNo:"",country:"",sendcodeValue:this.$t("uc.regist.sendcode"),codedisabled:!1,receiveAmount:"0.00",promotionCode:"",hasInviteUser:!1,inviteUserId:"***********",inviteUserAvatar:"https://modcurrency.oss-accelerate.aliyuncs.com/defaultavatar.png",envelopeInfo:{id:0,name:"**********",totalAmount:"0.00",unit:"",receiveCount:0,count:0,invite:0,type:0,logo:"https://modcurrency.oss-accelerate.aliyuncs.com/applogo.png",bgImage:"https://modcurrency.oss-accelerate.aliyuncs.com/redenvelope.png",state:0,detail:"留给未来一个暴富的可能"},formInline:{verifyCode:"",phone:"",promotionCode:"",envelopeNo:""},queryDetail:{envelopeId:"",pageNo:0,pageSize:30},envelopeDetailList:[],countdown:60}},created:function(){this.init()},computed:{lang(){return this.$store.state.lang},langPram(){return"简体中文"==this.$store.state.lang?"CN":"English"==this.$store.state.lang?"EN":"KOREAN"==this.$store.state.lang?"KO":"JAPANESE"==this.$store.state.lang?"JP":"CN"}},methods:{init(){this.$store.state.HeaderActiveName="1-8",this.$store.commit("navigate","nav-envelope");var e=this.$route.params.eno;void 0==e?this.$router.push("/app"):(this.formInline.envelopeNo=e,void 0!=this.$route.query.code&&""!=this.$route.query.code&&null!=this.$route.query.code&&(this.formInline.promotionCode=this.$route.query.code)),this.getEnvelope()},sendCode(){if(/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(this.formInline.phone)){var e={};if(e.phone=this.formInline.phone,e.country="China",e.envelopeId=this.envelopeInfo.id,0==this.envelopeInfo.id||null==this.envelopeInfo.id||void 0==this.envelopeInfo.id)return void this.$Message.error("红包不存在");this.$http.post(this.host+"/uc/redenvelope/code",e).then(e=>{var t=e.body;0==t.code&&this.$Message.success(t.message),0==t.code&&this.settime(),0!=t.code&&this.$Message.error(t.message)})}else this.$Message.error("请输入合法的手机号")},settime(){this.sendcodeValue=this.$t("uc.regist.resendcode")+this.countdown+")",this.codedisabled=!0;var e=this;let t=setInterval(()=>{e.countdown--,e.sendcodeValue=e.$t("uc.regist.resendcode")+e.countdown+")",this.countdown<=0&&(clearInterval(t),e.codedisabled=!1,e.sendcodeValue=e.$t("uc.regist.sendcode"),e.countdown=60)},1e3)},handleSubmit(){""!=this.formInline.verifyCode?this.$http.post(this.host+"/uc/redenvelope/receive",this.formInline).then(e=>{200==e.status&&0==e.body.code?(this.promotionCode=e.body.data.promotionCode,this.receiveAmount=e.body.data.amount,this.hasReceived=!0,this.getEnvelopeDetailList()):this.$Message.error(e.body.message)}):this.$Message.error("请输入验证码")},inviteMore(){this.$router.replace("/envelope/"+this.formInline.envelopeNo+"?code="+this.promotionCode),this.$Modal.confirm({title:"跳转刷新提示",content:'<p>点击"确定"将生成您的专属红包邀请页面。</p><br><p>使用方法：进入专属邀请页面后，分享该页面给微信好友即可</p>',onOk:()=>{this.formInline.promotionCode=this.promotionCode,this.hasReceived=!1,this.getEnvelope()},onCancel:()=>{}})},getEnvelope(){let e={};e.envelopeNo=this.formInline.envelopeNo,e.code=this.formInline.promotionCode,this.spinShow=!0,this.$http.post(this.host+"/uc/redenvelope/query",e).then(e=>{this.spinShow=!1,200==e.status&&0==e.body.code?(this.envelopeInfo.id=e.body.data.id,this.envelopeInfo.name=e.body.data.name,this.envelopeInfo.totalAmount=e.body.data.totalAmount,this.envelopeInfo.receiveCount=e.body.data.receiveCount,this.envelopeInfo.count=e.body.data.count,this.envelopeInfo.detail=e.body.data.detail,this.envelopeInfo.unit=e.body.data.unit,this.envelopeInfo.invite=e.body.data.invite,this.envelopeInfo.type=e.body.data.type,this.envelopeInfo.state=e.body.data.state,null!=e.body.data.inviteUser&&""!=e.body.data.inviteUser&&void 0!=e.body.data.inviteUser&&(this.hasInviteUser=!0,this.inviteUserId=e.body.data.inviteUser,null!=e.body.data.inviteUserAvatar&&(this.inviteUserAvatar=e.body.data.inviteUserAvatar)),null!=e.body.data.logoImage&&""!=e.body.data.logoImage&&(this.envelopeInfo.logo=e.body.data.logoImage),null!=e.body.data.bgImage&&""!=e.body.data.bgImage&&(this.envelopeInfo.bgImage=e.body.data.bgImage),window.document.title="【"+this.envelopeInfo.totalAmount+" "+this.envelopeInfo.unit+"】"+this.envelopeInfo.name+"  — cbdcoincurrency | cbdcoincurrency offical website - global currency trading platform | global digital currency trading platform",this.getEnvelopeDetailList()):this.$Message.error(e.body.message)})},getEnvelopeDetailList(){this.queryDetail.envelopeId=this.envelopeInfo.id,this.$http.post(this.host+"/uc/redenvelope/query-detail",this.queryDetail).then(e=>{200==e.status&&0==e.body.code?this.envelopeDetailList=e.body.data.content:this.$Message.error(e.body.message)})}}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"envelope"},[e.hasInviteUser?o("div",{staticStyle:{width:"80%",height:"35px",padding:"5px 0 5px 0px","border-radius":"35px","background-color":"rgb(157, 0, 0)","margin-left":"10%","text-align":"center",display:"flex","flex-direction":"row","justify-content":"center","margin-bottom":"10px"}},[o("img",{staticStyle:{width:"25px",height:"25px","margin-right":"10px","border-radius":"25px"},attrs:{src:e.inviteUserAvatar}}),e._v(" "),o("div",{staticStyle:{height:"30px","line-height":"30px",color:"#EEE"}},[e._v(e._s(e.inviteUserId)+" 邀您领红包！")])]):e._e(),e._v(" "),o("div",{staticStyle:{position:"absolute",top:"40px",width:"100%","text-align":"center","padding-top":"50px"}},[e.hasInviteUser?o("div",{staticStyle:{width:"100%",height:"35px"}}):e._e(),e._v(" "),o("p",{staticStyle:{"text-align":"center",padding:"15px 0px","font-size":"14px","letter-spacing":"1px",width:"100%",color:"#000"}},[e._v(e._s(e.envelopeInfo.name))]),e._v(" "),o("p",{staticStyle:{"text-align":"center",padding:"15px 0px","font-size":"36px","letter-spacing":"1px",width:"100%",color:"#fb272a","font-weight":"bold"}},[e._v(e._s(e.envelopeInfo.totalAmount)+" "+e._s(e.envelopeInfo.unit))]),e._v(" "),o("p",{staticStyle:{"text-align":"center",padding:"15px 0px","font-size":"14px","letter-spacing":"1px",width:"100%",color:"rgb(227, 205, 187)"}},[e._v("Received: "+e._s(e.envelopeInfo.receiveCount)+"/"+e._s(e.envelopeInfo.count))]),e._v(" "),o("p",{staticStyle:{"text-align":"center",padding:"20px 0px","font-size":"14px","letter-spacing":"1px",width:"100%",color:"#555","margin-top":"40px"}},[o("img",{staticStyle:{width:"60px",height:"60px","border-radius":"60px"},attrs:{src:e.envelopeInfo.logo}})])]),e._v(" "),o("img",{staticStyle:{width:"100%"},attrs:{src:e.envelopeInfo.bgImage}}),e._v(" "),o("p",{staticStyle:{"margin-top":"-80px","margin-bottom":"80px","text-align":"center",color:"rgb(255, 136, 79)","font-size":"13px"}},[e._v("The red envelope is sent via cbdcoincurrency(cbdcoincurrency.COM)")]),e._v(" "),e.hasReceived||0!=e.envelopeInfo.state?e._e():o("div",{staticClass:"input-panel"},[o("div",{staticStyle:{color:"rgb(177, 177, 177)","font-size":"16px",margin:"10px 0 20px 0"},domProps:{innerHTML:e._s(e.envelopeInfo.detail)}}),e._v(" "),o("Form",{ref:"formInline",attrs:{inline:""}},[o("FormItem",{attrs:{prop:"user"}},[o("Input",{attrs:{type:"text",placeholder:"请输入手机号码"},model:{value:e.formInline.phone,callback:function(t){e.$set(e.formInline,"phone",t)},expression:"formInline.phone"}})],1),e._v(" "),o("FormItem",{attrs:{prop:"code"}},[o("Input",{attrs:{type:"text",placeholder:e.$t("uc.regist.smscode")},model:{value:e.formInline.verifyCode,callback:function(t){e.$set(e.formInline,"verifyCode",t)},expression:"formInline.verifyCode"}}),e._v(" "),o("input",{attrs:{id:"sendCode",type:"Button",shape:"circle",disabled:e.codedisabled},domProps:{value:e.sendcodeValue},on:{click:function(t){e.sendCode()}}})],1),e._v(" "),o("FormItem",[o("Button",{staticClass:"register_btn",on:{click:function(t){e.handleSubmit()}}},[e._v("领取红包")])],1)],1)],1),e._v(" "),e.hasReceived&&0==e.envelopeInfo.state?o("div",{staticClass:"envelope-result"},[o("p",{staticStyle:{"font-size":"14px","text-align":"center",color:"#999","margin-top":"5px"}},[e._v("恭喜您！")]),e._v(" "),o("p",{staticStyle:{"text-align":"center","font-size":"30px",color:"rgb(251, 39, 42)","font-weight":"bold",margin:"10px 0"}},[e._v(e._s(e.receiveAmount)+" BTC")]),e._v(" "),1==e.envelopeInfo.invite?o("Button",{staticClass:"register_btn",on:{click:function(t){e.inviteMore()}}},[e._v("邀请好友增加领取次数")]):e._e(),e._v(" "),1==e.envelopeInfo.invite?o("p",{staticStyle:{"font-size":"14px","text-align":"center",color:"#999","margin-top":"15px"}},[e._v("邀请一个好友增加一次领取机会")]):e._e(),e._v(" "),o("p",{staticStyle:{"text-align":"center"}},[o("router-link",{staticStyle:{"font-size":"14px","text-align":"center",color:"#085fff","margin-top":"15px","text-decoration":"underline"},attrs:{to:"/app"}},[e._v("下载APP | 查看资产")])],1)],1):e._e(),e._v(" "),1==e.envelopeInfo.state?o("div",{staticClass:"envelope-result"},[o("p",{staticStyle:{"font-size":"20px","text-align":"center",color:"#999","margin-top":"5px"}},[e._v("红包已领完！")])]):e._e(),e._v(" "),2==e.envelopeInfo.state?o("div",{staticClass:"envelope-result"},[o("p",{staticStyle:{"font-size":"20px","text-align":"center",color:"#999","margin-top":"5px"}},[e._v("红包已过期！")])]):e._e(),e._v(" "),o("div",{staticClass:"record-list"},[o("div",{staticClass:"title"},[e._v("领取记录")]),e._v(" "),o("div",{staticClass:"content"},[0==e.envelopeDetailList.length?o("p",{staticStyle:{color:"#999",margin:"20px 0"}},[e._v("暂无领取")]):e._e(),e._v(" "),e._l(e.envelopeDetailList,function(t){return o("div",{staticClass:"item clearfix"},[o("div",{staticClass:"phone"},[e._v(e._s(t.userIdentify))]),o("div",{staticClass:"amount"},[e._v(e._s(t.amount)+" "+e._s(e.envelopeInfo.unit))])])})],2)]),e._v(" "),o("p",{staticStyle:{"text-align":"center","margin-top":"25px","margin-bottom":"20px"}},[o("router-link",{staticStyle:{"font-size":"14px","text-align":"center",color:"#EEE","margin-top":"15px","text-decoration":"underline"},attrs:{to:"/app"}},[e._v("© cbdcoincurrency.COM | 下载APP")])],1),e._v(" "),e.spinShow?o("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},staticRenderFns:[]};var s=o("VU/8")(n,i,!1,function(e){o("h6o9")},null,null);t.default=s.exports},h6o9:function(e,t){}});